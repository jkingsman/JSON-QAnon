{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "required": [
        "posts"
    ],
    "properties": {
        "posts": {
            "type": "array",
            "items": {
                "type": "object",
                "required": [
                    "post_metadata"
                ],
                "additionalProperties": false,
                "properties": {
                    "post_metadata": {
                        "type": "object",
                        "required": [
                            "id",
                            "author",
                            "author_id",
                            "post_id",
                            "source",
                            "time"
                        ],
                        "additionalProperties": false,
                        "properties": {
                            "id": {
                                "type": "integer",
                                "minimum": 1,
                                "description": "The ordinal ID of the post (sequentially from 1 (oldest) forwards in time; generated and not present on original posts)"
                            },
                            "author": {
                                "type": "string",
                                "description": "The author of the post; usually 'Q' or 'Anonymous'"
                            },
                            "post_id": {
                                "type": "string",
                                "pattern": "^[0-9]+$",
                                "description": "The ID of the post, sourced from the original site it was posted on."
                            },
                            "author_id": {
                                "type": "string",
                                "description": "A numerical identifier for a particular poster generated from a hash of the thread ID, the user's IP address, and other information by the board it was posted on. This may read 000000 for posts that didn't originally use that identification for Q posts."
                            },
                            "tripcode": {
                                "type": "string",
                                "description": "The tripcode of the post, if included"
                            },
                            "source": {
                                "type": "object",
                                "required": [
                                    "board",
                                    "site",
                                    "link"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "board": {
                                        "type": "string",
                                        "enum": [
                                            "/cbts",
                                            "/greatawakening",
                                            "/patriotsfight",
                                            "/pol",
                                            "/projectdcomms",
                                            "/qresearch",
                                            "/thestorm"
                                        ],
                                        "description": "The chan board the post came from"
                                    },
                                    "site": {
                                        "type": "string",
                                        "enum": [
                                            "4ch",
                                            "8ch",
                                            "8kun"
                                        ],
                                        "description": "The site the post is from (4chan, 8chan, or 8kun)"
                                    },
                                    "link": {
                                        "type": "string",
                                        "description": "Link to the original post, or an archival version as available in scrape sources. Not guaranteed to be live; use at your own risk."
                                    }
                                }
                            },
                            "time": {
                                "type": "integer",
                                "minimum": 1,
                                "description": "Unix epoch timestamp of when the original post was made"
                            }
                        }
                    },
                    "text": {
                        "type": "string",
                        "description": "The text of the post with newlines delimited by literal '\\n'"
                    },
                    "images": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": [
                                "file",
                                "name"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "file": {
                                    "type": "string",
                                    "description": "The name of the image file itself as archived from source board (as available)"
                                },
                                "name": {
                                    "type": "string",
                                    "description": "The name of the image as it was named when posted to the image board"
                                }
                            }
                        }
                    },
                    "referenced_posts": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": [
                                "reference",
                                "post_id",
                                "author_id",
                                "time",
                                "link"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "reference": {
                                    "type": "string",
                                    "description": "The string within the 'text' of the main post that referred to this one (typically post_id in >>12345678 format)"
                                },
                                "post_id": {
                                    "type": "string",
                                    "pattern": "^[0-9]+$",
                                    "description": "The ID of the referenced post"
                                },
                                "text": {
                                    "type": "string",
                                    "description": "The text of the referenced post with newlines delimited by literal '\\n'"
                                },
                                "author_id": {
                                    "type": "string",
                                    "description": "A numerical identifier for a particular poster generated from a hash of the thread ID, the user's IP address, and other information"
                                },
                                "time": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "description": "Unix epoch timestamp of when the referenced post was made"
                                },
                                "link": {
                                    "type": "string",
                                    "description": "Link to the original referenced post, or an archival version as available in scrape sources. Not guaranteed to be live; use at your own risk."
                                },
                                "images": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "file",
                                            "name"
                                        ],
                                        "additionalProperties": false,
                                        "properties": {
                                            "file": {
                                                "type": "string",
                                                "description": "The name of the image file itself as archived from source board (as available)"
                                            },
                                            "name": {
                                                "type": "string",
                                                "description": "The name of the image as it was named when posted to the image board"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
